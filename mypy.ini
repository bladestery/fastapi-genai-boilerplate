[mypy]
python_version = 3.13

# ----------------------
# Global strictness
# ----------------------
# Enforce strict typing discipline for your own code
check_untyped_defs = True
disallow_untyped_defs = True
disallow_incomplete_defs = True
disallow_untyped_calls = False
disallow_untyped_decorators = False
disallow_any_unimported = False

# Improve accuracy and cleanliness
no_implicit_optional = True
strict_equality = True
warn_unused_ignores = True
warn_return_any = True
warn_unused_configs = True
warn_redundant_casts = True
warn_unreachable = True
show_error_codes = True
pretty = True

# ----------------------
# Import & module handling
# ----------------------
# Don't break on external libs without type hints
ignore_missing_imports = True
explicit_package_bases = True
namespace_packages = True

# ----------------------
# Project-specific overrides
# ----------------------

# --- FastAPI / Starlette ---
# FastAPI's decorators often cause false positives for untyped callables
[mypy.fastapi.*]
ignore_missing_imports = True
disallow_untyped_decorators = False
check_untyped_defs = False

[mypy.starlette.*]
ignore_missing_imports = True

# --- Pydantic v2 ---
[mypy.pydantic.*]
ignore_missing_imports = True
disable_error_code = valid-type

[mypy.pydantic_settings.*]
ignore_missing_imports = True

# --- LangChain & LangGraph ---
[mypy.langchain.*]
ignore_missing_imports = True

[mypy.langgraph.*]
ignore_missing_imports = True

[mypy.langchain_openai.*]
ignore_missing_imports = True

# --- Loguru logging ---
[mypy.loguru.*]
ignore_missing_imports = True

# --- Uvicorn server ---
[mypy.uvicorn.*]
ignore_missing_imports = True

# --- Celery (common in FastAPI setups) ---
[mypy.celery.*]
ignore_missing_imports = True

# --- Redis / aioredis ---
[mypy.redis.*]
ignore_missing_imports = True

[mypy.aioredis.*]
ignore_missing_imports = True

# --- SQLAlchemy (v2 annotations supported) ---
[mypy.sqlalchemy.*]
ignore_missing_imports = True

# --- External tools ---
[mypy.requests.*]
ignore_missing_imports = True

[mypy.yaml.*]
ignore_missing_imports = True

[mypy.dateutil.*]
ignore_missing_imports = True
